import { getHashIn } from "./getHash";

const db = [
  ["小エビのサラダ", 350, "🍤"],
  ["わかめのサラダ", 350, "🥗"],
  ["モッツァレラのサラダ", 400, "🥗"],
  ["グリーンサラダ", 350, "🥗"],
  ["チキンのサラダ", 350, "🥗"],
  ["コーンクリームスープ", 150, "🥣"],
  ["田舎風ミネストローネ", 300, "🥣"],
  ["たまねぎのズッパ", 300, "🥣"],
  ["辛味チキン", 300, "🍗"],
  ["アロスティチーニ（ラムの串焼き）", 400, "🍢"],
  ["ほうれん草のソテー", 200, "🥬"],
  ["ポップコーンシュリンプ", 300, "🍤"],
  ["エスカルゴのオーブン焼き", 400, "🥘"],
  ["小エビのカクテル", 280, "🍤"],
  ["チョリソー（辛味ソーセージ）", 400, "🌭"],
  ["蒸し鶏の香味ソース", 280, "🐔"],
  ["ムール貝のガーリック焼き", 400, "🦪"],
  ["アスパラガスの温サラダ", 300, "🥗"],
  ["爽やかにんじんサラダ", 200, "🥕"],
  ["モッツァレラトマト", 430, "🍅"],
  ["カリッとポテト", 280, "🥔"],
  ["ポテトのグリル", 300, "🥔"],
  ["バッファローモッツァレラのカプレーゼ", 430, "🍅"],
  ["ハモン・セラーノ", 320, "🍖"],
  ["生ハムとバッファローモッツァレラの盛合せ", 500, "🧀"],
  ["柔らか青豆の温サラダ", 200, "🫛"],
  ["スイートコーン", 200, "🥗"],
  ["アロスティチーニ（ラムの串焼き）(Wサイズ)", 800, "🍢"],
  ["ミラノ風ドリア", 300, "🥘"],
  ["半熟卵のミラノ風ドリア", 350, "🥘"],
  ["タラコとエビのドリア", 400, "🥘"],
  ["焼チーズ ミラノ風ドリア", 350, "🥘"],
  ["エビとタラコのクリームグラタン（全粒粉）", 400, "🥘"],
  ["バッファローモッツァレラのマルゲリータピザ", 400, "🍕"],
  ["野菜ときのこのピザ", 400, "🍕"],
  ["たっぷりコーンのピザ", 400, "🍕"],
  ["ソーセージピザ", 400, "🍕"],
  ["ペペロンチーノ", 300, "🍝"],
  ["パルマ風スパゲティ", 400, "🍝"],
  ["カルボナーラ", 500, "🍝"],
  ["ミートソースボロニア風", 400, "🍝"],
  ["スープ入り塩味ボンゴレ", 500, "🍝"],
  ["半熟卵のミートソースボロニア風", 450, "🍝"],
  ["半熟卵のぺペロンチーノ", 350, "🍝"],
  ["小エビのタラコソース", 540, "🍝"],
  ["きのことほうれん草のクリームスパゲッティ", 600, "🍝"],
  ["ペンネアラビアータ（全粒粉）", 400, "🍝"],
  ["イカの墨入りセピアソース", 500, "🍝"],
  ["若鶏のディアボラ風", 500, "🐔"],
  ["イタリアンハンバーグ", 500, "🍖"],
  ["柔らかチキンのチーズ焼き", 500, "🐔"],
  ["ハンバーグステーキ", 400, "🍖"],
  ["ディアボラ風ハンバーグ", 500, "🍖"],
  ["ラムと野菜のグリル", 870, "🍖"],
  ["ミックスグリル", 650, "🍖"],
  ["ライス", 150, "🍚"],
  ["ラージライス", 200, "🍚"],
  ["スモールライス", 100, "🍚"],
  ["シナモンプチフォッカ", 200, "🍞"],
  ["プチフォッカ", 150, "🍞"],
  ["ミニフィセル", 150, "🥖"],
  ["ガーリックトースト", 200, "🥖"],
  ["ティラミス　クラシコ", 300, "🧁"],
  ["ジェラート＆シナモンプチフォッカ", 450, "🍨"],
  ["イタリアンジェラート", 250, "🍨"],
  ["イタリアンプリン", 250, "🍮"],
  ["チョコレートケーキ", 300, "🍰"],
  ["プリンとティラミス　クラシコの盛合せ", 500, "🍮"],
  ["トリフアイスクリーム", 350, "🍨"],
  ["コーヒーゼリー＆イタリアンジェラート", 350, "🍨"],
  ["生ビール キリン一番搾り　ジョッキ", 400, "🍺"],
  ["生ビール キリン一番搾り　グラスビール", 300, "🍺"],
  ["ノンアルコール アサヒドライゼロ", 250, "🍺"],
  ["サワー キリン氷結シチリア産レモン", 350, "🍺"],
  ["グラッパ (30ml)", 300, "🍺"],
  ["グラスワイン (120ml)　赤", 100, "🍷"],
  ["グラスワイン (120ml)　白", 100, "🍷"],
  ["デカンタ (250ml)　赤", 200, "🍷"],
  ["デカンタ (250ml)　白", 200, "🍷"],
  ["デカンタ (500ml)　赤", 400, "🍷"],
  ["デカンタ (500ml)　白", 400, "🍷"],
  ["マグナム (1500ml)　赤", 1100, "🍾"],
  ["マグナム (1500ml)　白", 1100, "🍾"],
  ["ランブルスコロゼ【(ロゼ・発泡)甘口】", 1100, "🍾"],
  ["ドンラファエロ【(白・発泡)辛口】", 1100, "🍾"],
  ["ランブルスコセッコ【(赤・発泡)辛口】", 1100, "🍾"],
  ["ベルデッキオ【(白)辛口】", 1100, "🍾"],
  ["キャンティ【(赤)辛口】", 1100, "🍾"],
  ["キャンティ ルフィナ リゼルバ【(赤)辛口】", 2200, "🍾"],
  ["ティラミス　クラシコ", 300, "🧁"],
  ["ジェラート＆シナモンプチフォッカ", 450, "🍨"],
  ["イタリアンジェラート", 250, "🍨"],
  ["イタリアンプリン", 250, "🍮"],
  ["チョコレートケーキ", 300, "🍰"],
  ["プリンとティラミス　クラシコの盛合せ", 500, "🍮"],
  ["トリフアイスクリーム", 350, "🍨"],
  ["コーヒーゼリー＆イタリアンジェラート", 350, "🍨"],
  ["トッピング半熟卵", 50, "🥚"],
  ["野菜ペースト", 100, "🥗"],
  ["トッピング粉チーズ", 100, "🧀"],
  ["セットドリンクバー", 200, "🥤"],
  ["キッズドリンクバー", 100, "🥤"],
  ["ドリンクバー単品", 300, "🥤"],
  ["サイゼリヤ　ドレッシング (500ml)", 500, "🧂"],
  ["エクストラ・バージン・オリーブオイル (500ml)", 1200, "🧂"],
] as const;

const RETURN_COUNT = 3;

export const getMenuForDate = (date: Date, seedNumber: number): string => {
  const d = Math.floor(date.getTime() / 86400000);
  const menus = getHashIn(
    {
      name: "menu",
      setLength: RETURN_COUNT,
      seedNumber,
    },
    d,
    db.length - 1,
  ).map((i) => db[i]);
  const totalPrices = menus.map((m) => m[1]).reduce((a, b) => a + b, 0);
  const menuStr = menus
    .sort((m1, m2) => m2[1] - m1[1])
    .map((m) => `${m[2]}${m[0]}`)
    .join(" + ");
  return `${menuStr} (${totalPrices}円)`;
};
